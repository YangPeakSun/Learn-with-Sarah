<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc c√πng c√¥ gi√°o Sarah</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Baloo+2:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Welcome Popup -->
    <div id="welcomePopup" class="popup-overlay active">
        <div class="popup-content welcome-popup">
            <div class="welcome-header">
                <div class="teacher-avatar">
                    <img src="images/teacher-sarah-new.png" alt="C√¥ Sarah" class="teacher-image">
                </div>
                <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi l·ªõp h·ªçc c·ªßa c√¥ Sarah! üåü</h1>
                <p>H√£y c√πng nhau h·ªçc t·∫≠p v√† kh√°m ph√° nh·ªØng ƒëi·ªÅu th√∫ v·ªã!</p>
            </div>
            <button id="startBtn" class="btn-primary">B·∫Øt ƒë·∫ßu n√†o! üöÄ</button>
        </div>
    </div>

    <!-- Avatar Selection Popup -->
    <div id="avatarPopup" class="popup-overlay">
        <div class="popup-content">
            <h2>Ch·ªçn avatar y√™u th√≠ch c·ªßa em nh√©! üòä</h2>
            <div class="avatar-grid">
                <div class="avatar-option" data-avatar="images/avatar-boy1.png">
                    <img src="images/avatar-boy1.png" alt="B√© trai 1" class="avatar-image">
                </div>
                <div class="avatar-option" data-avatar="images/avatar-boy2.png">
                    <img src="images/avatar-boy2.png" alt="B√© trai 2" class="avatar-image">
                </div>
                <div class="avatar-option" data-avatar="images/avatar-boy3.png">
                    <img src="images/avatar-boy3.png" alt="B√© trai 3" class="avatar-image">
                </div>
                <div class="avatar-option" data-avatar="images/avatar-boy4.png">
                    <img src="images/avatar-boy4.png" alt="B√© trai 4" class="avatar-image">
                </div>
                <div class="avatar-option" data-avatar="üê∂">üê∂</div>
                <div class="avatar-option" data-avatar="üê±">üê±</div>
                <div class="avatar-option" data-avatar="üê∞">üê∞</div>
                <div class="avatar-option" data-avatar="üêº">üêº</div>
                <div class="avatar-option" data-avatar="ü¶ä">ü¶ä</div>
                <div class="avatar-option" data-avatar="üê∏">üê∏</div>
                <div class="avatar-option" data-avatar="üêß">üêß</div>
                <div class="avatar-option" data-avatar="ü¶Ñ">ü¶Ñ</div>
            </div>
            <button id="confirmAvatar" class="btn-primary" disabled>Ch·ªçn avatar n√†y! ‚ú®</button>
        </div>
    </div>

    <!-- Name Input Popup -->
    <div id="namePopup" class="popup-overlay">
        <div class="popup-content">
            <h2>H√£y cho c√¥ Sarah bi·∫øt, em t√™n g√¨ nh√©? üíù</h2>
            <input type="text" id="studentName" placeholder="Nh·∫≠p t√™n c·ªßa em..." maxlength="20">
            <button id="confirmName" class="btn-primary">X√°c nh·∫≠n üéà</button>
        </div>
    </div>

    <!-- Age Input Popup -->
    <div id="agePopup" class="popup-overlay">
        <div class="popup-content">
            <h2>H√£y cho c√¥ Sarah bi·∫øt, em m·∫•y tu·ªïi r·ªìi? üéÇ</h2>
            <select id="studentAge">
                <option value="">Ch·ªçn tu·ªïi c·ªßa em</option>
                <option value="6">6 tu·ªïi (L·ªõp 1)</option>
                <option value="7">7 tu·ªïi (L·ªõp 2)</option>
                <option value="8">8 tu·ªïi (L·ªõp 3)</option>
                <option value="9">9 tu·ªïi (L·ªõp 4)</option>
                <option value="10">10 tu·ªïi (L·ªõp 5)</option>
                <option value="11">11 tu·ªïi (L·ªõp 6)</option>
            </select>
            <button id="confirmAge" class="btn-primary">Ho√†n th√†nh! üåà</button>
        </div>
    </div>

    <!-- Grade Selection Popup -->
    <div id="gradePopup" class="popup-overlay">
        <div class="popup-content">
            <h2>Ch·ªçn l·ªõp h·ªçc c·ªßa em nh√©! üìö</h2>
            <div class="grade-grid">
                <div class="grade-option" data-grade="1">
                    <i class="fas fa-baby"></i>
                    <span>L·ªõp 1</span>
                </div>
                <div class="grade-option" data-grade="2">
                    <i class="fas fa-child"></i>
                    <span>L·ªõp 2</span>
                </div>
                <div class="grade-option" data-grade="3">
                    <i class="fas fa-user-friends"></i>
                    <span>L·ªõp 3</span>
                </div>
                <div class="grade-option" data-grade="4">
                    <i class="fas fa-graduation-cap"></i>
                    <span>L·ªõp 4</span>
                </div>
                <div class="grade-option" data-grade="5">
                    <i class="fas fa-star"></i>
                    <span>L·ªõp 5</span>
                </div>
            </div>
            <button id="startQuiz" class="btn-primary" disabled>B·∫Øt ƒë·∫ßu l√†m b√†i! üéØ</button>
        </div>
    </div>

    <!-- Quiz Popup -->
    <div id="quizPopup" class="popup-overlay">
        <div class="popup-content quiz-content">
            <div class="quiz-header">
                <div class="quiz-progress">
                    <span id="questionNumber">1</span>/15
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                </div>
                <div class="quiz-score">ƒêi·ªÉm: <span id="currentScore">0</span></div>
            </div>
            <div id="questionContainer">
                <h3 id="questionText">ƒêang t·∫£i c√¢u h·ªèi...</h3>
                <div id="answersContainer" class="answers-grid"></div>
            </div>
            <div class="quiz-actions">
                <button id="nextQuestion" class="btn-primary" style="display: none;">C√¢u ti·∫øp theo üëâ</button>
            </div>
        </div>
    </div>

    <!-- Results Popup -->
    <div id="resultsPopup" class="popup-overlay">
        <div class="popup-content">
            <div class="results-header">
                <h2>K·∫øt qu·∫£ b√†i l√†m! üéâ</h2>
                <div class="final-score">
                    <span id="finalScore">0</span>/15 c√¢u ƒë√∫ng
                </div>
                <div class="points-earned">
                    ƒêi·ªÉm nh·∫≠n ƒë∆∞·ª£c: <span id="pointsEarned">0</span> üíé
                </div>
            </div>
            <div id="perfectScore" class="perfect-score" style="display: none;">
                <h3>üéä Xu·∫•t s·∫Øc! L√†m ƒë√∫ng t·∫•t c·∫£! üéä</h3>
                <p>Em nh·∫≠n ƒë∆∞·ª£c ph·∫ßn th∆∞·ªüng ƒë·∫∑c bi·ªát!</p>
                <button id="playMiniGame" class="btn-special">Ch∆°i mini game üéÆ</button>
            </div>
            <button id="backToHome" class="btn-primary">V·ªÅ trang ch·ªß üè†</button>
        </div>
    </div>

    <!-- Mini Game Popup -->
    <div id="miniGamePopup" class="popup-overlay">
        <div class="popup-content">
            <h2>üéÆ Mini Game: ƒêo√°n l√° c·ªù! üè≥Ô∏è</h2>
            <div id="flagGame">
                <div class="flag-display">
                    <span id="flagEmoji">üáªüá≥</span>
                </div>
                <p id="flagQuestion">ƒê√¢y l√† l√° c·ªù c·ªßa n∆∞·ªõc n√†o?</p>
                <div id="flagAnswers" class="answers-grid"></div>
            </div>
            <button id="closeMiniGame" class="btn-primary">ƒê√≥ng üö™</button>
        </div>
    </div>

    <!-- Assign Accessory Popup -->
    <div id="assignAccessoryPopup" class="popup-overlay">
        <div class="popup-content">
            <h2>G·∫Øn ph·ª• ki·ªán cho th√∫ c∆∞ng n√†o?</h2>
            <div id="assignPetList" class="avatar-grid" style="max-height: 250px; overflow-y: auto;">
                <!-- Pets will be listed here by JavaScript -->
                <p>ƒêang t·∫£i danh s√°ch th√∫ c∆∞ng...</p>
            </div>
            <div class="popup-actions" style="margin-top: var(--spacing-lg); display: flex; gap: var(--spacing-md); justify-content: center;">
                 <button id="confirmAssignAccessory" class="btn-primary">X√°c nh·∫≠n</button>
                 <button id="cancelAssignAccessory" class="btn-primary" style="background: var(--text-muted);">B·ªè qua</button>
            </div>
        </div>
    </div>


    <!-- Main App -->
    <div id="mainApp" class="main-app" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="images/teacher-sarah-new.png" alt="Sarah" class="logo-image">
                </div>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-btn active" data-section="home">
                    <i class="fas fa-home"></i>
                    <span>Trang ch·ªß</span>
                </button>
                <button class="nav-btn" data-section="study">
                    <i class="fas fa-book"></i>
                    <span>H·ªçc t·∫≠p</span>
                </button>
                 <button class="nav-btn" data-section="collection">
                    <i class="fas fa-paw"></i>
                    <span>B·ªô s∆∞u t·∫≠p</span>
                </button>
                <button class="nav-btn" data-section="shop">
                    <i class="fas fa-store"></i>
                    <span>C·ª≠a h√†ng</span>
                </button>
                <button class="nav-btn" data-section="achievements">
                    <i class="fas fa-trophy"></i>
                    <span>Th√†nh t√≠ch</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left">
                    <h1 class="page-title">Dashboard</h1>
                    <p class="page-subtitle">Ch√∫ng ta s·∫Ω l√†m g√¨ h√¥m nay?</p>
                </div>
                <div class="header-right">
                    <div class="header-actions">
                        <button class="header-btn" id="settingsBtn">
                            <i class="fas fa-cog"></i>
                        </button>
                        <button class="header-btn" id="chatBtn">
                            <i class="fas fa-comments"></i>
                        </button>
                        <div class="user-profile">
                            <div class="user-avatar" id="userAvatar">üê∂</div>
                            <div class="user-info">
                                <span id="userName" class="user-name">B√© y√™u</span>
                                <span id="userPoints" class="user-points">0 ƒëi·ªÉm üíé</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="content-wrapper">
                <!-- Home Section -->
                <section id="homeSection" class="content-section active">
                    <!-- Welcome Card -->
                    <div class="welcome-card">
                        <div class="welcome-content">
                            <div class="welcome-text">
                                <h2 id="welcomeGreeting">Ch√†o b·∫°n!</h2>
                                <p>H√¥m nay ch√∫ng ta s·∫Ω h·ªçc nh·ªØng g√¨ th√∫ v·ªã nh√©?</p>
                                <div class="quick-actions">
                                    <button class="quick-action-btn" onclick="switchSection('study')">
                                        <i class="fas fa-play"></i>
                                        B·∫Øt ƒë·∫ßu h·ªçc
                                    </button>
                                    <button class="quick-action-btn secondary" onclick="switchSection('shop')">
                                        <i class="fas fa-shopping-bag"></i>
                                        C·ª≠a h√†ng
                                    </button>
                                </div>
                            </div>
                            <div class="welcome-mascot">
                                <img src="images/teacher-sarah-new.png" alt="C√¥ Sarah" class="mascot-image">
                            </div>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="stat-content">
                                <h3>B√†i ƒë√£ l√†m</h3>
                                <p class="stat-number" id="totalQuizzes">0</p>
                                <span class="stat-label">b·ªô ƒë·ªÅ</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3>C√¢u ƒë√∫ng</h3>
                                <p class="stat-number" id="correctAnswers">0</p>
                                <span class="stat-label">c√¢u h·ªèi</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-gem"></i>
                            </div>
                            <div class="stat-content">
                                <h3>ƒêi·ªÉm t√≠ch l≈©y</h3>
                                <p class="stat-number" id="totalPoints">0</p>
                                <span class="stat-label">ƒëi·ªÉm</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Streak</h3>
                                <p class="stat-number" id="streak">0</p>
                                <span class="stat-label">ng√†y</span>
                            </div>
                        </div>
                    </div>

                    <!-- Daily Tasks -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Nhi·ªám v·ª• h√†ng ng√†y</h3>
                            <div class="progress-indicator">
                                <span id="completedTasks">0</span>/5
                            </div>
                        </div>
                        <div class="tasks-list">
                            <div class="task-item" data-task="exercise">
                                <div class="task-checkbox">
                                    <input type="checkbox" id="task1">
                                    <label for="task1"></label>
                                </div>
                                <div class="task-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                                <div class="task-info">
                                    <h4>T·∫≠p th·ªÉ d·ª•c</h4>
                                    <p>V·∫≠n ƒë·ªông 15 ph√∫t</p>
                                </div>
                                <div class="task-reward">+10 üíé</div>
                            </div>
                            <div class="task-item" data-task="help">
                                <div class="task-checkbox">
                                    <input type="checkbox" id="task2">
                                    <label for="task2"></label>
                                </div>
                                <div class="task-icon">üßπ</div>
                                <div class="task-info">
                                    <h4>Ph·ª• m·∫π</h4>
                                    <p>Gi√∫p vi·ªác nh√†</p>
                                </div>
                                <div class="task-reward">+10 üíé</div>
                            </div>
                            <div class="task-item" data-task="read">
                                <div class="task-checkbox">
                                    <input type="checkbox" id="task3">
                                    <label for="task3"></label>
                                </div>
                                <div class="task-icon">üìñ</div>
                                <div class="task-info">
                                    <h4>ƒê·ªçc s√°ch</h4>
                                    <p>ƒê·ªçc 20 ph√∫t</p>
                                </div>
                                <div class="task-reward">+10 üíé</div>
                            </div>
                            <div class="task-item" data-task="study">
                                <div class="task-checkbox">
                                    <input type="checkbox" id="task4">
                                    <label for="task4"></label>
                                </div>
                                <div class="task-icon">‚úèÔ∏è</div>
                                <div class="task-info">
                                    <h4>L√†m b√†i t·∫≠p</h4>
                                    <p>Ho√†n th√†nh 1 b·ªô ƒë·ªÅ</p>
                                </div>
                                <div class="task-reward">+10 üíé</div>
                            </div>
                            <div class="task-item" data-task="family">
                                <div class="task-checkbox">
                                    <input type="checkbox" id="task5">
                                    <label for="task5"></label>
                                </div>
                                <div class="task-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                <div class="task-info">
                                    <h4>Th·ªùi gian gia ƒë√¨nh</h4>
                                    <p>Tr√≤ chuy·ªán v·ªõi gia ƒë√¨nh</p>
                                </div>
                                <div class="task-reward">+10 üíé</div>
                            </div>
                        </div>
                    </div>

                    <!-- Pet Section -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Th√∫ c∆∞ng c·ªßa em</h3>
                            <button class="section-action" onclick="switchSection('shop')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div id="petDisplay" class="pet-display">
                            <div class="pet-placeholder">
                                <i class="fas fa-paw"></i>
                                <p>Ch∆∞a c√≥ th√∫ c∆∞ng n√†o<br>H√£y mua t·ª´ c·ª≠a h√†ng nh√©!</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Study Section -->
                <section id="studySection" class="content-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>H·ªçc t·∫≠p c√πng Sarah</h3>
                            <div class="daily-limit">
                                H√¥m nay: <span id="dailyQuizCountDisplay">0</span>/3 b·ªô ƒë·ªÅ
                            </div>
                        </div>
                        <div class="study-content">
                            <div class="study-hero">
                                <div class="study-text">
                                    <h2>S·∫µn s√†ng h·ªçc t·∫≠p ch∆∞a?</h2>
                                    <p>H√£y c√πng c√¥ Sarah kh√°m ph√° nh·ªØng ki·∫øn th·ª©c m·ªõi th√∫ v·ªã!</p>
                                    <button id="startNewQuiz" class="btn-large">
                                        <i class="fas fa-play"></i>
                                        B·∫Øt ƒë·∫ßu b·ªô ƒë·ªÅ m·ªõi
                                    </button>
                                </div>
                                <div class="study-mascot">
                                    <img src="images/teacher-sarah-new.png" alt="C√¥ Sarah" class="mascot-image">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Collection Section -->
                <section id="collectionSection" class="content-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>B·ªô s∆∞u t·∫≠p th√∫ c∆∞ng c·ªßa em</h3>
                        </div>
                        <div class="collection-grid" id="petCollectionGrid">
                            <p class="empty-collection-message" style="display: none; text-align: center; color: var(--text-muted);">
                                Em ch∆∞a c√≥ th√∫ c∆∞ng n√†o trong b·ªô s∆∞u t·∫≠p. H√£y v√†o c·ª≠a h√†ng ƒë·ªÉ mua nh√©!
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Shop Section -->
                <section id="shopSection" class="content-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>C·ª≠a h√†ng</h3>
                            <div class="user-points-display">
                                <span id="shopPoints">0</span> üíé
                            </div>
                        </div>
                        <div class="shop-categories">
                            <button class="category-btn active" data-category="pets">Th√∫ c∆∞ng</button>
                            <button class="category-btn" data-category="accessories">Ph·ª• ki·ªán</button>
                            <button class="category-btn" data-category="food">Th·ª©c ƒÉn</button>
                        </div>
                        <div class="shop-grid" id="shopGrid">
                            <!-- Shop items will be populated by JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Achievements Section -->
                <section id="achievementsSection" class="content-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Th√†nh t√≠ch c·ªßa em</h3>
                        </div>
                        <div class="achievements-grid" id="achievementsGrid">
                            <!-- Achievement cards will be populated by JS -->
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Chat Widget -->
        <div id="chatWidget" class="chat-widget">
            <div class="chat-header">
                <img src="images/teacher-sarah-new.png" alt="C√¥ Sarah" class="chat-avatar">
                <span>C√¥ Sarah</span>
                <button id="closeChatBtn" class="close-chat">√ó</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <img src="images/teacher-sarah-new.png" alt="C√¥ Sarah" class="message-avatar">
                    <div class="message-content">
                        Ch√†o em! C√¥ Sarah ·ªü ƒë√¢y ƒë·ªÉ gi√∫p em h·ªçc t·∫≠p nh√©! üòä
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="H·ªèi c√¥ Sarah...">
                <button id="sendChatBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- Pet Emotion -->
        <div id="petEmotion" class="pet-emotion">
            <span id="petEmotionIcon">üòä</span>
        </div>
    </div>

    <!-- Settings Popup -->
    <div id="settingsPopup" class="popup-overlay">
        <div class="popup-content">
            <h2>C√†i ƒë·∫∑t ‚öôÔ∏è</h2>
            <div class="settings-grid">
                <div class="setting-item">
                    <label>Font ch·ªØ:</label>
                    <select id="fontSelect">
                        <option value="Inter">Inter</option>
                        <option value="Baloo 2">Baloo 2</option>
                        <option value="Comic Neue">Comic Neue</option> <!-- Assuming you'll add Comic Neue font -->
                    </select>
                </div>
                <div class="setting-item">
                    <label>K√≠ch th∆∞·ªõc ch·ªØ:</label>
                    <select id="fontSizeSelect">
                        <option value="normal">B√¨nh th∆∞·ªùng</option>
                        <option value="large">To</option>
                        <option value="extra-large">R·∫•t to</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>M√†u n·ªÅn:</label>
                    <div class="color-options">
                        <div class="color-option" data-color="default" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                        <div class="color-option" data-color="mint" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);"></div>
                        <div class="color-option" data-color="sunset" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);"></div>
                        <div class="color-option" data-color="ocean" style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);"></div>
                    </div>
                </div>
                <div class="setting-item">
                    <label>√Çm thanh:</label>
                    <input type="checkbox" id="soundToggle" checked>
                </div>
            </div>
            <button id="logoutBtn" class="btn-primary" style="background: var(--error-color); margin-top: 20px;">ƒêƒÉng xu·∫•t</button>
            <button id="closeSettings" class="btn-primary" style="margin-top: 10px;">ƒê√≥ng</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>